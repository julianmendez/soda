package scopus.translator

+ org.scalatest.funsuite.AnyFunSuite

+ scala.language.implicitConversions


* MultiLineSpec() extends AnyFunSuite {

  test("should preprocess the comma in multiple lines") {
    input = "" +
      "  value = 1\n" +
      "  sequence = Seq(1 ,\n" +
      "    2,  \n" +
      "    3)\n" +
      "  f( x: Int,\t\n" +
      "     y: Int,\n" +
      "     z: Int) =" +
      "       x * x + y * y + z * z\n"

    expected = "" +
      "  value = 1\n" +
      "  sequence = Seq(1 ," +
      "    2,  " +
      "    3)\n" +
      "  f( x: Int,\t" +
      "     y: Int," +
      "     z: Int) =" +
      "       x * x + y * y + z * z\n"

    mt = MicroTranslator()
    input_lines = mt.split_lines(input)
    joined_lines = mt.join_lines_ending_with_comma(input_lines)
    obtained = mt.join_translated_lines(joined_lines)
    assert (obtained == expected)
  }

}

