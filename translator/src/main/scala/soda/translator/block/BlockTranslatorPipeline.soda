
class BlockTranslatorPipeline
  extends
    BlockTranslator

  import
    soda.lib.Fold_

  abstract
    pipeline : Seq [BlockTranslator]

  _fold = Fold_ ()

  translate : AnnotatedBlock -> AnnotatedBlock =
    lambda block -->
      _fold.apply (pipeline) (block) (_next_value_function)

  _next_value_function (block : AnnotatedBlock) (translator : BlockTranslator) : AnnotatedBlock =
    translator.translate (block)

end

