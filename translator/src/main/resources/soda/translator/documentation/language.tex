\usepackage{listings}

\lstdefinelanguage{Soda}{
    morekeywords={lambda, any, def, if, then, else, match, case, class, extends, abstract, end, inductive, this, subtype, supertype, false, true, not, and, or, package, import, directive, @new, @tailrec, @override},
    sensitive=true,
    morecomment=[s]{/*}{*/},
    morestring=[b]"
}

\lstset{frame=tb,
    language=Soda,
    aboveskip=3mm,
    belowskip=3mm,
    showstringspaces=false,
    columns=flexible,
    basicstyle={\small\ttfamily},
    numbers=none,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{teal},
    breaklines=true,
    breakatwhitespace=true,
    tabsize=3
}


\newcommand{\srccode}[1]{\texttt{{#1}}}
\newcommand{\basicType}[1]{{\color{black}\srccode{#1}}\xspace}
\newcommand{\annotation}[1]{{\color{brown}\srccode{#1}}\xspace}

\newcommand{\Soda}{\textsc{Soda}\xspace}


%
% Soda reserved words
%

\definecolor{sodablue}{rgb}{0.05, 0.05, 0.75}
\newcommand{\reservedWordSoda}[1]{{\color{sodablue}\srccode{#1}}\xspace}
\newcommand{\sodaType}[1]{\basicType{{#1}}}

\newcommand{\sodadefequal}{\srccode{=}\xspace}
\newcommand{\sodacolon}{\srccode{:}\xspace}
\newcommand{\sodaarrow}{{-\textgreater}\xspace}
\newcommand{\sodaimplies}{{==\textgreater}\xspace}
\newcommand{\sodadefparam}{\srccode{:=}\xspace}
\newcommand{\sodalambdaarrow}{\ensuremath{\longrightarrow}\xspace}
\newcommand{\sodacasearrow}{\ensuremath{\Longrightarrow}\xspace}

\newcommand{\sodalambda}{\reservedWordSoda{lambda}}
\newcommand{\sodaany}{\reservedWordSoda{any}}

\newcommand{\sodadef}{\reservedWordSoda{def}}
\newcommand{\sodaif}{\reservedWordSoda{if}}
\newcommand{\sodathen}{\reservedWordSoda{then}}
\newcommand{\sodaelse}{\reservedWordSoda{else}}

\newcommand{\sodamatch}{\reservedWordSoda{match}}
\newcommand{\sodacase}{\reservedWordSoda{case}}

\newcommand{\sodaclass}{\reservedWordSoda{class}}
\newcommand{\sodaextends}{\reservedWordSoda{extends}}
\newcommand{\sodaabstract}{\reservedWordSoda{abstract}}
\newcommand{\sodaendclass}{\reservedWordSoda{end}}
\newcommand{\sodathis}{\reservedWordSoda{this}}
\newcommand{\sodasubtype}{\reservedWordSoda{subtype}}
\newcommand{\sodasupertype}{\reservedWordSoda{supertype}}

\newcommand{\sodafalse}{\reservedWordSoda{false}}
\newcommand{\sodatrue}{\reservedWordSoda{true}}
\newcommand{\sodanot}{\reservedWordSoda{not}}
\newcommand{\sodaand}{\reservedWordSoda{and}}
\newcommand{\sodaor}{\reservedWordSoda{or}}

\newcommand{\sodapackage}{\reservedWordSoda{package}}
\newcommand{\sodaimport}{\reservedWordSoda{import}}

\newcommand{\sodadirective}{\reservedWordSoda{directive}}

\newcommand{\sodanew}{\annotation{@new}}
\newcommand{\sodatailrec}{\annotation{@tailrec}}
\newcommand{\sodaoverride}{\annotation{@override}}

\newcommand{\sodaequalsSign}{\reservedWordSoda{==}}

\newcommand{\sodalessthancolon}{\reservedWordSoda{<:}}
\newcommand{\sodagreaterthancolon}{\reservedWordSoda{>:}}

